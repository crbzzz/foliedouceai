:root { --bg:#0f172a; --fg:#e2e8f0; --muted:#94a3b8; --bubble:#1f2937; --accent:#22c55e; --code-bg:#0b1220; --code-border:#334155; }
* { box-sizing: border-box; }
html,body { height:100%; }
body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; background:var(--bg); color:var(--fg); }
.app { max-width:900px; margin:0 auto; height:100dvh; display:flex; flex-direction:column; padding:16px; gap:12px; }
header { display:flex; align-items:center; gap:12px; }
header h1 { margin:0; font-size:20px; }
.subtitle { color:var(--muted); font-size:12px; }
main#chat { flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; padding:8px; border:1px solid #334155; border-radius:12px; background:#0b1220; }
.msg { display:flex; gap:10px; }
.msg .bubble { padding:10px 12px; border-radius:12px; background:var(--bubble); line-height:1.45; white-space:pre-wrap; }
.msg.user .bubble { background:#0f1e33; }
.msg.bot .bubble { background:#112417; border:1px solid #1b3a24; }
.msg .codeblock { position:relative; background:var(--code-bg); border:1px solid var(--code-border); padding:12px; border-radius:10px; overflow:auto; }
.msg .codeblock pre { margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:13px; }
.copy-btn { position:absolute; top:8px; right:8px; font-size:12px; padding:6px 8px; border:1px solid #1f2937; background:#0f172a; color:var(--fg); border-radius:8px; cursor:pointer; }
#composer { display:flex; gap:8px; align-items:flex-end; }
#input { flex:1; resize:none; padding:10px; border-radius:10px; border:1px solid #334155; background:#0b1220; color:var(--fg); }
.actions { display:flex; gap:8px; }
#send { padding:10px 16px; border-radius:10px; border:0; background:var(--accent); color:#052e13; font-weight:600; cursor:pointer; }
#send:disabled { opacity:.6; cursor:wait; }
#stop { padding:10px 12px; border-radius:10px; border:1px solid #3b82f6; background:#0b1220; color:#93c5fd; cursor:pointer; }
#stop:hover { border-color:#60a5fa; color:#bfdbfe; }

/* typing ... */
.typing { display:inline-flex; gap:4px; align-items:center; }
.dot { width:6px; height:6px; border-radius:50%; background:#9ca3af; opacity:.5; animation: blink 1.2s infinite; }
.dot:nth-child(2){ animation-delay:.2s; }
.dot:nth-child(3){ animation-delay:.4s; }
@keyframes blink { 0%,80%,100%{ opacity:.2 } 40%{ opacity:1 } }
